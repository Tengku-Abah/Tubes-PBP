{
    "info": {
        "name": "E-Commerce API Collection",
        "description": "Complete API collection for E-Commerce application with all routes and parameters",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "https://www.octamart.site",
            "type": "string"
        },
        {
            "key": "authToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "userId",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Admin Login",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"admin@gmail.com\",\n  \"password\": \"Admin08\",\n  \"rememberMe\": true,\n  \"action\": \"login\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/user",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "user"
                            ]
                        },
                        "description": "Login admin and get JWT token"
                    },
                    "response": []
                },
                {
                    "name": "User Login",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"afifj27@gmail.com\",\n  \"password\": \"Tengkuafif1234\",\n  \"rememberMe\": false,\n  \"action\": \"login\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/user",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "user"
                            ]
                        },
                        "description": "Login regular user and get JWT token"
                    },
                    "response": []
                },
                {
                    "name": "User Register",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Tengku Muhamad Afif\",\n  \"email\": \"afifj27@gmail.com\",\n  \"password\": \"Tengkuafif1234\",\n  \"phone\": \"08123456789\",\n  \"action\": \"register\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/user",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "user"
                            ]
                        },
                        "description": "Register new user"
                    },
                    "response": []
                },
                {
                    "name": "Get User Profile",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/user",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "user"
                            ]
                        },
                        "description": "Get current user profile"
                    },
                    "response": []
                },
                {
                    "name": "Update User Profile",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"John Doe Updated\",\n  \"phone\": \"08123456789\",\n  \"address\": \"Jl. Contoh No. 123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/user",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "user"
                            ]
                        },
                        "description": "Update user profile"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Products",
            "item": [
                {
                    "name": "Get All Products",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{baseUrl}}/api/product",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "product"
                            ]
                        },
                        "description": "Get all products"
                    },
                    "response": []
                },
                {
                    "name": "Get Product by ID",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{baseUrl}}/api/product?id=1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "product"
                            ],
                            "query": [
                                {
                                    "key": "id",
                                    "value": "1"
                                }
                            ]
                        },
                        "description": "Get product by ID"
                    },
                    "response": []
                },
                {
                    "name": "Search Products",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{baseUrl}}/api/product?search=headphone&category=Audio&minPrice=100000&maxPrice=5000000",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "product"
                            ],
                            "query": [
                                {
                                    "key": "search",
                                    "value": "headphone"
                                },
                                {
                                    "key": "category",
                                    "value": "Audio"
                                },
                                {
                                    "key": "minPrice",
                                    "value": "100000"
                                },
                                {
                                    "key": "maxPrice",
                                    "value": "5000000"
                                }
                            ]
                        },
                        "description": "Search products with filters"
                    },
                    "response": []
                },
                {
                    "name": "Create Product (Admin)",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"New Product\",\n  \"price\": 500000,\n  \"description\": \"Product description\",\n  \"image\": \"https://example.com/image.jpg\",\n  \"category\": \"Electronics\",\n  \"stock\": 100\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/product",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "product"
                            ]
                        },
                        "description": "Create new product (Admin only)"
                    },
                    "response": []
                },
                {
                    "name": "Update Product (Admin)",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"id\": 1,\n  \"name\": \"Updated Product Name\",\n  \"price\": 600000,\n  \"stock\": 50\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/product",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "product"
                            ]
                        },
                        "description": "Update product (Admin only)"
                    },
                    "response": []
                },
                {
                    "name": "Delete Product (Admin)",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/product?id=1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "product"
                            ],
                            "query": [
                                {
                                    "key": "id",
                                    "value": "1"
                                }
                            ]
                        },
                        "description": "Delete product (Admin only)"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Cart",
            "item": [
                {
                    "name": "Get Cart Items",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "user-id",
                                "value": "{{userId}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/cart?user_id={{userId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "cart"
                            ],
                            "query": [
                                {
                                    "key": "user_id",
                                    "value": "{{userId}}"
                                }
                            ]
                        },
                        "description": "Get user's cart items"
                    },
                    "response": []
                },
                {
                    "name": "Add to Cart",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "user-id",
                                "value": "{{userId}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"productId\": 1,\n  \"quantity\": 2\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/cart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "cart"
                            ]
                        },
                        "description": "Add item to cart"
                    },
                    "response": []
                },
                {
                    "name": "Update Cart Item",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "user-id",
                                "value": "{{userId}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"cartItemId\": 1,\n  \"quantity\": 3\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/cart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "cart"
                            ]
                        },
                        "description": "Update cart item quantity"
                    },
                    "response": []
                },
                {
                    "name": "Remove from Cart",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "user-id",
                                "value": "{{userId}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/cart?cartItemId=1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "cart"
                            ],
                            "query": [
                                {
                                    "key": "cartItemId",
                                    "value": "1"
                                }
                            ]
                        },
                        "description": "Remove item from cart"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Orders",
            "item": [
                {
                    "name": "Get Orders",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "user-id",
                                "value": "{{userId}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/orders?user_id={{userId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "orders"
                            ],
                            "query": [
                                {
                                    "key": "user_id",
                                    "value": "{{userId}}"
                                }
                            ]
                        },
                        "description": "Get user's orders"
                    },
                    "response": []
                },
                {
                    "name": "Create Order",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "user-id",
                                "value": "{{userId}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"customerName\": \"John Doe\",\n  \"customerEmail\": \"john@example.com\",\n  \"customerPhone\": \"08123456789\",\n  \"items\": [\n    {\n      \"productId\": 1,\n      \"productName\": \"Product Name\",\n      \"quantity\": 2,\n      \"price\": 500000\n    }\n  ],\n  \"shippingAddress\": {\n    \"street\": \"Jl. Contoh No. 123\",\n    \"city\": \"Jakarta\",\n    \"postalCode\": \"12345\",\n    \"province\": \"DKI Jakarta\"\n  },\n  \"paymentMethod\": \"bank_transfer\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/orders",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "orders"
                            ]
                        },
                        "description": "Create new order"
                    },
                    "response": []
                },
                {
                    "name": "Update Order Status (Admin)",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"id\": 1,\n  \"status\": \"processing\",\n  \"paymentStatus\": \"paid\",\n  \"shippingDate\": \"2024-01-15\",\n  \"deliveryDate\": \"2024-01-20\",\n  \"notes\": \"Order is being processed\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/orders",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "orders"
                            ]
                        },
                        "description": "Update order status (Admin only)"
                    },
                    "response": []
                },
                {
                    "name": "Delete Order (Admin)",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/orders?id=1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "orders"
                            ],
                            "query": [
                                {
                                    "key": "id",
                                    "value": "1"
                                }
                            ]
                        },
                        "description": "Delete order (Admin only)"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Reviews",
            "item": [
                {
                    "name": "Get Reviews",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{baseUrl}}/api/reviews?productId=1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "reviews"
                            ],
                            "query": [
                                {
                                    "key": "productId",
                                    "value": "1"
                                }
                            ]
                        },
                        "description": "Get reviews for a product"
                    },
                    "response": []
                },
                {
                    "name": "Create Review",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"productId\": 1,\n  \"orderId\": 1,\n  \"orderItemId\": 1,\n  \"rating\": 5,\n  \"comment\": \"Produk sangat bagus dan sesuai dengan ekspektasi saya. Kualitasnya sangat memuaskan.\",\n  \"userAvatar\": \"https://example.com/avatar.jpg\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/reviews",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "reviews"
                            ]
                        },
                        "description": "Create new review"
                    },
                    "response": []
                },
                {
                    "name": "Get Review Stats",
                    "request": {
                        "method": "GET",
                        "url": {
                            "raw": "{{baseUrl}}/api/reviews/stats?productId=1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "reviews",
                                "stats"
                            ],
                            "query": [
                                {
                                    "key": "productId",
                                    "value": "1"
                                }
                            ]
                        },
                        "description": "Get review statistics for a product"
                    },
                    "response": []
                },
                {
                    "name": "Get Admin Reviews",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/admin/reviews?page=1&limit=20",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "reviews"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                }
                            ]
                        },
                        "description": "Get all reviews for admin (Admin only)"
                    },
                    "response": []
                },
                {
                    "name": "Update Review Status (Admin)",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"id\": 1,\n  \"verified\": true\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/admin/reviews",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "reviews"
                            ]
                        },
                        "description": "Update review verification status (Admin only)"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Admin",
            "item": [
                {
                    "name": "Get New Orders Notification",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/admin/new-orders",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "admin",
                                "new-orders"
                            ]
                        },
                        "description": "Get new orders notification (Admin only)"
                    },
                    "response": []
                },
                {
                    "name": "Get Financial Report",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/financial?startDate=2024-01-01&endDate=2024-12-31",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "financial"
                            ],
                            "query": [
                                {
                                    "key": "startDate",
                                    "value": "2024-01-01"
                                },
                                {
                                    "key": "endDate",
                                    "value": "2024-12-31"
                                }
                            ]
                        },
                        "description": "Get financial report (Admin only)"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "File Upload",
            "item": [
                {
                    "name": "Upload File",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "file",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "bucket",
                                    "value": "product-images",
                                    "type": "text"
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/upload",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "upload"
                            ]
                        },
                        "description": "Upload file to Supabase storage"
                    },
                    "response": []
                },
                {
                    "name": "Get Upload URL",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"fileName\": \"product-image.jpg\",\n  \"bucket\": \"product-images\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/upload-url",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "upload-url"
                            ]
                        },
                        "description": "Get signed upload URL"
                    },
                    "response": []
                }
            ]
        }
    ]
}